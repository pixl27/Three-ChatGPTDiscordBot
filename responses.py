from revChatGPT.revChatGPT import AsyncChatbot as Chatbot
import os

config = {
    #"Authorization": '<Auth>',
    #"email": "one2king1@gmail.com",
    #"password": "Maherylepro1"
    #"cf_clearance":
    #"B99kAdjKkFXxRWVeO8c.qw_j0wIuw3wCBTPEOVX20UE-1670830927-0-160",
    #"user_agent":
    #"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36",
    "session_token":
    "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..E36sxgRbaSlWepK9.5hcZ0OWFbb9_gkt2auiHlByIZqxSl6bVD8EcmxZhpdZ6rs7rzP7KdHnGWKr1rCEvQgFS0WJZpdkZim42QrgYyWXkPINZHNPZzZWfEopXJc4yZLpS6nZ4J8RJcuztb1L_vQzG-HiERnCzi7rFwYVoDvd-7xEE76_ltYI1gOG7DQKJkJNHBgQmkIA3vUX0unjqXtevz7j1_AptK_aIuQzEnampmW7CsS0U5qu08SN8XAwpPbSeOAJ9KM4UjQUmB1DA8_WDR0RXfBDM2GKUcIMv_9b8XxYbpw0RkHWJSvqueFmNcMCUQkMe7F4cIqxO-5kC1LRMWz7cINYqiqF-MzMjOltwY0Z4cw-XRYZdL5O2ewDa-1NFHNzGSs8LQke8d6njrh42zPyTWsoPAJDi-p_SsfpCfS-NjOPytyZD7LoyhD8wn6uLYrXcsdZ_M-tpHPCceWVbQ6pgdS9YsMI0C-lO3a80O7acWrqy3NuB5jkiAa4KmogGspLg4jCvqMSs9yS8Xi4FBLZDMUvlzIrXyF9I9NOWXR6b2TCGzayONYVA6uY96Vh2m6ey2V5yC01gXsqA0qDD_tspe4pBTTELQAFtid4GMEBDaS7mj94bTCT6zsudqXcrWacRiO0tpgsK_kuIgRFWePHh_0DCUqNa75n8LfV0tFfTASd0jCKVKsMn4CBxHvHdE0p6gD56mLqa1LXelBV5jPxBM5wFCrk2vFNNrpmr7E-nEvPvWmRiDMxFQX6EcxBc8Fb3WEJSiFBkSulgmjOIIIYM1gFMBMULE3U-nVXKjCrPJuF-DLsPVcD_KmwXabMgeQ0Z4A3IBOJM4HOnWJ2w0BQWk8iKM7P4tdXkvvhMjUz3tUg2Ojq2uriiNso9xBi8SSE_YdLx_beKMZyG6kanpaxVJtes2HfCmQH2DIsER9x7I8_a9BVzN-_iYf4eQuCEmpXYOknpwSDpvgLfCqBBzExAL0g365ZkuxGzjF5UStZuUiGXnePym9DExFfB-hXPE8OMR-LdFVxGA-tB0D0Na4_b1-GVVgiHu1TIY16fRCpGeXYld-Dh1Ks05T5IKl9U6VBC_yt1uiq7CUhKAj-CX2fysMDmI6W0nzWnYEoSncNfyuvVnU2-kDBiuocvk73stIJtQzVFi748dSSeJqXbO3D3qRrRrLoH35jyl7YuKC3BtGneNOtGXKqYs88JmxdsZw4KNsNUMWNtQZv_Q5YJfqz22gpRREBDaNRUG6rzNW3edtNgtL1FEFeglQ5jEYdJepubnwaMaFExuCKU3_98IEjaxbPb_3DuvFusEK8q4xJ6qn10kTQ7cK40-km7Z3eaijWKivll3BpTUcAvgorQXcBi_pJPkh6uswPYcAfFXU_7lL9PUdWA74HpIJKA-FZ9x8rBnhYb3vV9k_PIUEU3CWAqGCv2ffKIi_iwZD7NreF1hAxUTMiUCZ8DFZiMorksakwWzW0f8DKlROFcEYch5-adAVyzzPKSGlfylsBS2JdUitM1oGkK26uLpQ7vZIJ81E43-a5NShKDwBHMl0dNknyYUMyBEs0IZ-rfAZdq-H6c__d1FKlSkdnnoz6haumsYV8lg560G2bWmjrZZsVa2vpwWS3SvvleXnpRfBGk3-kIOdVBZadvX9mjHi0JalR-5XThwSCBlmL72ADf6G9BolFslWyob93-oKRL8FkLgxre5-3CgO9JrAEO8_4CCc77OpflPAm9q1UgQ2dJI8s1GGaVM6-SB7FHym8yIg1FM_RLh1GiBQCNu367YYGrPOW3tSWpOKs767DZ6u1IU0wGVhGBwnPgGgCnRAxBr2FBtSJrb0MK2xG5_o9owwHO1SetPJTHH--srsX-ulyvM2bMmHu4gYrZHkO7ig1hOBQGuew3IZ0pdbOpdfH76vTFD4whVqu_e6ZS-WmjLADzouuJ1_g8CCq56ey9WdeNw7pMQGgbfoG-qWJgPvDh9SZP-r1X03ACUmvy7O_Hs1vdnxDACxo1XGn19Mk3u673m156D6HgFxcY6SoTsJEzmDcmNtXiAmLaBKij5HaUS0Z8cLnAr_7UlzFVCJexudBg2kpuW6HrtrOv8J0KkJFOQeLdhSlamQx0ohxNXTGM4qwZjH5DX4N51Fmdyp59Hndrd6cQi3xsKBMayvG8eL3d-1uUP_7cirxqC-rho-Uu_Gsq9-6lIXf27RpQ9ZCUraREQRZZwInZlleOFB-diVg82kW7JQAtmqTJSa0yPXkCXJ6Kyt5uTBOaMmbyIjy4YYUzTUhlqS7UFjAa4d0vQKkZgaMzaftppjVJ7zTwP6VIJ1ad4PyywnSXwCtDwOaACZZ0JVsnzrSlDihLQdbnAXkU_Q.Gjxc9-e-tBV-8KtD0z1UKw"
}


#chatbot.refresh_headers()
async def handle_response(message) -> str:
    prompt = message
    chatbot.refresh_session()
    response = await chatbot.get_chat_response(prompt, output="text")
    responseMessage = response["message"]

    return responseMessage


chatbot = Chatbot(config, conversation_id=None)
